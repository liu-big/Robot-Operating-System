# `startup_scripts` 文件夹使用开发操作手册

## 1. 概述

`startup_scripts` 文件夹主要用于存放启动脚本，这些脚本旨在自动化开发环境的初始化、配置或特定任务的执行。它们通常用于简化新开发人员的入职流程，确保开发环境的一致性，或自动化重复性的设置工作。这些脚本可以是 Shell 脚本（如 `.sh` 文件）或其他可执行脚本。

## 2. 文件夹结构

`src/startup_scripts/`

- `src/startup_scripts/initdev_mini.sh`: 用于初始化或配置 mini 机器人开发环境的脚本。
- `src/startup_scripts/initdev_xiao.sh`: 用于初始化或配置 xiao 机器人开发环境的脚本。
- ... (可能包含其他启动或配置脚本)

## 3. 主要功能与用途

`startup_scripts` 文件夹的主要功能是：

- **环境初始化**：自动化安装依赖、配置环境变量、设置工作区等。
- **快速部署**：帮助快速部署和启动开发环境或特定服务。
- **任务自动化**：执行一些重复性的、需要特定环境设置才能运行的任务。
- **环境一致性**：确保所有开发人员使用相同的环境配置，减少“在我机器上可以运行”的问题。

## 4. 使用方法

- **执行脚本**：通过命令行直接执行这些脚本。在执行之前，通常需要确保脚本具有执行权限。

  示例（以 `initdev_mini.sh` 为例）：
  ```bash
  # 赋予执行权限（如果尚未拥有）
  chmod +x src/startup_scripts/initdev_mini.sh

  # 执行脚本
  ./src/startup_scripts/initdev_mini.sh
  ```

- **查看脚本内容**：在执行任何脚本之前，强烈建议查看其内容，了解脚本将执行的操作，以确保安全性和符合预期。

## 5. 项目全局应用

在 `ucar_ws` 项目中，`startup_scripts` 文件夹是管理和自动化开发环境设置的关键。它为不同型号的机器人（如 mini 和 xiao）提供了定制化的初始化脚本，确保了开发人员能够快速、准确地搭建起所需的开发环境。这对于多机器人平台项目尤其重要，因为它简化了环境配置的复杂性，提高了开发效率和团队协作的顺畅性。

## 6. 维护与更新

- **版本控制**：所有启动脚本都应该被提交到版本控制系统（如 Git），以便团队成员共享和跟踪变更。
- **清晰注释**：在脚本中添加详细的注释，说明每个步骤的功能和目的。
- **幂等性**：设计脚本时，尽量使其具有幂等性，即多次运行脚本不会产生副作用或错误。
- **错误处理**：在脚本中加入适当的错误处理机制，例如检查命令的返回值。
- **安全性**：避免在脚本中硬编码敏感信息，并确保脚本只执行必要的操作。

## 7. 故障排除

- **脚本无法执行**：
  - 检查脚本是否具有执行权限（`chmod +x`）。
  - 检查脚本的 shebang（如 `#!/bin/bash`）是否正确，并且对应的解释器已安装。
- **脚本执行报错**：
  - 仔细阅读错误信息，通常会指出问题所在。
  - 逐步执行脚本，或在脚本中添加 `echo` 语句来调试。
  - 检查脚本中引用的文件路径、环境变量等是否正确。
- **环境配置未生效**：
  - 确保脚本已成功执行。
  - 对于环境变量，可能需要重新加载 shell 配置（如 `source ~/.bashrc` 或重启终端）。
  - 检查脚本中配置的路径、依赖等是否与实际系统环境匹配。